var he=Object.defineProperty;var _e=(e,t,n)=>t in e?he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var z=(e,t,n)=>_e(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function O(){}function se(e){return e()}function W(){return Object.create(null)}function F(e){e.forEach(se)}function ie(e){return typeof e=="function"}function re(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ge(e){return Object.keys(e).length===0}function f(e,t){e.appendChild(t)}function j(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function be(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function P(e){return document.createTextNode(e)}function L(){return P(" ")}function A(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function $(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ve(e){return Array.from(e.childNodes)}function U(e,t){t=""+t,e.data!==t&&(e.data=t)}function X(e,t){e.value=t??""}function Y(e,t,n){e.classList.toggle(t,!!n)}let R;function D(e){R=e}function ue(){if(!R)throw new Error("Function called outside component initialization");return R}function we(e){ue().$$.on_mount.push(e)}function $e(e){ue().$$.on_destroy.push(e)}const I=[],Z=[];let M=[];const x=[],ye=Promise.resolve();let H=!1;function ke(){H||(H=!0,ye.then(ce))}function J(e){M.push(e)}const K=new Set;let N=0;function ce(){if(N!==0)return;const e=R;do{try{for(;N<I.length;){const t=I[N];N++,D(t),Se(t.$$)}}catch(t){throw I.length=0,N=0,t}for(D(null),I.length=0,N=0;Z.length;)Z.pop()();for(let t=0;t<M.length;t+=1){const n=M[t];K.has(n)||(K.add(n),n())}M.length=0}while(I.length);for(;x.length;)x.pop()();H=!1,K.clear(),D(e)}function Se(e){if(e.fragment!==null){e.update(),F(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J)}}function Ee(e){const t=[],n=[];M.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),M=t}const G=new Set;let Pe;function fe(e,t){e&&e.i&&(G.delete(e),e.i(t))}function Le(e,t,n,s){if(e&&e.o){if(G.has(e))return;G.add(e),Pe.c.push(()=>{G.delete(e)}),e.o(t)}}function ee(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Oe(e){e&&e.c()}function ae(e,t,n){const{fragment:s,after_update:l}=e.$$;s&&s.m(t,n),J(()=>{const i=e.$$.on_mount.map(se).filter(ie);e.$$.on_destroy?e.$$.on_destroy.push(...i):F(i),e.$$.on_mount=[]}),l.forEach(J)}function de(e,t){const n=e.$$;n.fragment!==null&&(Ee(n.after_update),F(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Te(e,t){e.$$.dirty[0]===-1&&(I.push(e),ke(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function me(e,t,n,s,l,i,r=null,c=[-1]){const p=R;D(e);const a=e.$$={fragment:null,ctx:[],props:i,update:O,not_equal:l,bound:W(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(p?p.$$.context:[])),callbacks:W(),dirty:c,skip_bound:!1,root:t.target||p.$$.root};r&&r(a.root);let y=!1;if(a.ctx=n?n(e,t.props||{},(h,S,...g)=>{const d=g.length?g[0]:S;return a.ctx&&l(a.ctx[h],a.ctx[h]=d)&&(!a.skip_bound&&a.bound[h]&&a.bound[h](d),y&&Te(e,h)),S}):[],a.update(),y=!0,F(a.before_update),a.fragment=s?s(a.ctx):!1,t.target){if(t.hydrate){const h=ve(t.target);a.fragment&&a.fragment.l(h),h.forEach(T)}else a.fragment&&a.fragment.c();t.intro&&fe(e.$$.fragment),ae(e,t.target,t.anchor),ce()}D(p)}class pe{constructor(){z(this,"$$");z(this,"$$set")}$destroy(){de(this,1),this.$destroy=O}$on(t,n){if(!ie(n))return O;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(t){this.$$set&&!ge(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ce="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ce);function te(e,t,n){const s=e.slice();return s[18]=t[n].name,s[19]=t[n].selected,s[20]=t[n].startTimestamp,s[21]=t[n].timer,s}function ne(e){let t,n,s,l,i,r;return{c(){t=v("div"),n=v("input"),s=L(),l=v("button"),l.textContent="Add",$(n,"type","text"),$(n,"placeholder","Enter player name")},m(c,p){j(c,t,p),f(t,n),X(n,e[1]),f(t,s),f(t,l),i||(r=[A(n,"input",e[10]),A(n,"keydown",e[11]),A(l,"click",e[4])],i=!0)},p(c,p){p&2&&n.value!==c[1]&&X(n,c[1])},d(c){c&&T(t),i=!1,F(r)}}}function le(e){let t,n,s=e[18]+"",l,i,r,c=Math.floor(e[21]/60)+"",p,a,y=(e[21]%60).toFixed(1).padStart(4,"0")+"",h,S,g,d=e[19]?"Deselect":"Select",k,m,C,E,w;function b(){return e[12](e[18])}return{c(){t=v("div"),n=v("span"),l=P(s),i=L(),r=v("span"),p=P(c),a=P(":"),h=P(y),S=L(),g=v("button"),k=P(d),C=L(),$(n,"class","svelte-1wbiufg"),Y(n,"selected",e[19]),$(r,"class","timer svelte-1wbiufg"),$(g,"class","button svelte-1wbiufg"),g.disabled=m=!e[19]&&e[0].length>=5||e[2],$(t,"class","player-item svelte-1wbiufg")},m(o,u){j(o,t,u),f(t,n),f(n,l),f(t,i),f(t,r),f(r,p),f(r,a),f(r,h),f(t,S),f(t,g),f(g,k),f(t,C),E||(w=A(g,"click",b),E=!0)},p(o,u){e=o,u&8&&s!==(s=e[18]+"")&&U(l,s),u&8&&Y(n,"selected",e[19]),u&8&&c!==(c=Math.floor(e[21]/60)+"")&&U(p,c),u&8&&y!==(y=(e[21]%60).toFixed(1).padStart(4,"0")+"")&&U(h,y),u&8&&d!==(d=e[19]?"Deselect":"Select")&&U(k,d),u&13&&m!==(m=!e[19]&&e[0].length>=5||e[2])&&(g.disabled=m)},d(o){o&&T(t),E=!1,w()}}}function Ae(e){let t,n,s;return{c(){t=v("button"),t.textContent="Stop Game",$(t,"class","button svelte-1wbiufg")},m(l,i){j(l,t,i),n||(s=A(t,"click",e[7]),n=!0)},p:O,d(l){l&&T(t),n=!1,s()}}}function je(e){let t,n,s,l,i;return{c(){t=v("button"),n=P("Start Game"),$(t,"class","button svelte-1wbiufg"),t.disabled=s=e[0].length!==5},m(r,c){j(r,t,c),f(t,n),l||(i=A(t,"click",e[6]),l=!0)},p(r,c){c&1&&s!==(s=r[0].length!==5)&&(t.disabled=s)},d(r){r&&T(t),l=!1,i()}}}function oe(e){let t,n,s;return{c(){t=v("button"),t.textContent="Export to CSV"},m(l,i){j(l,t,i),n||(s=A(t,"click",e[8]),n=!0)},p:O,d(l){l&&T(t),n=!1,s()}}}function Ne(e){let t,n,s,l=e[0].length+"",i,r,c,p,a,y,h,S,g,d=!e[2]&&ne(e),k=ee(e[3]),m=[];for(let o=0;o<k.length;o+=1)m[o]=le(te(e,k,o));function C(o,u){return o[2]?Ae:je}let E=C(e),w=E(e),b=!e[2]&&oe(e);return{c(){t=v("div"),n=v("h5"),s=P("Player List: On the court ("),i=P(l),r=P("/5)"),c=L(),d&&d.c(),p=L(),a=v("div");for(let o=0;o<m.length;o+=1)m[o].c();y=L(),h=v("div"),w.c(),S=L(),g=v("div"),b&&b.c(),$(a,"class","player-list svelte-1wbiufg"),$(h,"class","game-controls svelte-1wbiufg"),$(g,"class","csv svelte-1wbiufg"),$(t,"class","container svelte-1wbiufg")},m(o,u){j(o,t,u),f(t,n),f(n,s),f(n,i),f(n,r),f(t,c),d&&d.m(t,null),f(t,p),f(t,a);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(a,null);f(t,y),f(t,h),w.m(h,null),f(t,S),f(t,g),b&&b.m(g,null)},p(o,[u]){if(u&1&&l!==(l=o[0].length+"")&&U(i,l),o[2]?d&&(d.d(1),d=null):d?d.p(o,u):(d=ne(o),d.c(),d.m(t,p)),u&45){k=ee(o[3]);let _;for(_=0;_<k.length;_+=1){const B=te(o,k,_);m[_]?m[_].p(B,u):(m[_]=le(B),m[_].c(),m[_].m(a,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=k.length}E===(E=C(o))&&w?w.p(o,u):(w.d(1),w=E(o),w&&(w.c(),w.m(h,null))),o[2]?b&&(b.d(1),b=null):b?b.p(o,u):(b=oe(o),b.c(),b.m(g,null))},i:O,o:O,d(o){o&&T(t),d&&d.d(),be(m,o),w.d(),b&&b.d()}}}function Ie(e,t,n){let s,l=[],i="",r=[],c=!1,p;function a(){p=setInterval(()=>{const o=Date.now();n(9,l=l.map(u=>(r.includes(u.name)&&u.startTimestamp&&(u.timer+=(o-u.startTimestamp)/1e3,u.startTimestamp=o),u)))},100)}function y(){clearInterval(p)}we(()=>{a()}),$e(()=>{y()});function h(){if(i.trim()!==""&&!l.some(o=>o.name===i)){const o={name:i,timer:0};n(9,l=[...l,o]),n(1,i="")}}function S(o){c||(r.includes(o)?n(0,r=r.filter(u=>u!==o)):r.length<5&&n(0,r=[...r,o]))}function g(){const o=Date.now();n(9,l=l.map(u=>(r.includes(u.name)&&(u.startTimestamp=o),u)))}function d(){const o=Date.now();n(9,l=l.map(u=>(r.includes(u.name)&&u.startTimestamp&&(u.timer+=(o-u.startTimestamp)/1e3,u.startTimestamp=void 0),u)))}function k(){r.length===5&&(n(2,c=!0),g())}function m(){n(2,c=!1),d()}function C(){const o=["Player Name","Timer"],u=l.map(q=>`${q.name},${Math.floor(q.timer/60)}:${(q.timer%60).toFixed(1).padStart(4,"0")}`),_=[o.join(","),...u].join(`
`),B=new Blob([_],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a"),Q=URL.createObjectURL(B);V.href=Q,V.setAttribute("download","player_timers.csv"),V.click(),URL.revokeObjectURL(Q)}function E(){i=this.value,n(1,i)}const w=o=>o.key==="Enter"&&h(),b=o=>S(o);return e.$$.update=()=>{e.$$.dirty&513&&n(3,s=l.map(o=>({...o,selected:r.includes(o.name)})))},[r,i,c,s,h,S,k,m,C,l,E,w,b]}class Me extends pe{constructor(t){super(),me(this,t,Ie,Ne,re,{})}}function Ue(e){let t,n,s,l,i,r;return i=new Me({}),{c(){t=v("main"),n=v("h1"),n.textContent="Player Minutes Tracker",s=L(),l=v("div"),Oe(i.$$.fragment),$(l,"class","card")},m(c,p){j(c,t,p),f(t,n),f(t,s),f(t,l),ae(i,l,null),r=!0},p:O,i(c){r||(fe(i.$$.fragment,c),r=!0)},o(c){Le(i.$$.fragment,c),r=!1},d(c){c&&T(t),de(i)}}}class De extends pe{constructor(t){super(),me(this,t,null,Ue,re,{})}}new De({target:document.getElementById("app")});
